{% extends "layout.html" %}

{% block extraStyle %}
    <link rel="stylesheet" href="static/index.css">
{% endblock %}


{% block title %}
    Home
{% endblock %}

{% block index %}
<a href="/article?articleid={{articles[0][4]}}" >
    <div class="container-fluid"  style="display: block; overflow: hidden; height: 600px; background-image: url({{ articles[0][3] }}); background-size: cover; background-repeat: no-repeat; margin-top: 38px;">
        <div class="container article1" style="position: absolute; float: left; top: 425px; width: fit-content; max-width: 40%; font-family: 'Playfair Display';">
            <h1 style="font-family: 'Playfair Display';">{{ articles[0][0].title() }}</h1>
            <p style="font-family: 'Open Sans', sans-serif; font-size: 13pt; margin-top: -7px;">By: {{ articles[0][1] }}</p>
            <p style="font-family: 'Open Sans', sans-serif;">{{ articles[0][2][:210].strip(".").strip(" ") }}...</p>
            <p style="font-family: 'Open Sans', sans-serif; font-size: 10pt; margin-top: -7px; color: #999999;">{{ articles[0][5] }}</p>
        </div> 
    </div>
</a>
{% endblock %}


{% block body %}

    {% if sent %}
        <script>
            alert("Submission has been sent to editors, please await a response.")
        </script>
    {% endif %}
    </div>
    
    <div class="container-fluid" style="font-family: 'Playfair Display'; background-color: #000000; height: fit-content;color: #ffffff">
        <br style="font-size: 20pt">
        <label><h1 style="font-family: 'Prata';">Latest</h1></label>
        <div class="row" style=" font-family: 'Playfair Display';">
            {% for i in range((articles | length) - 2) %}
                <div class=col style=" height: fit-content; font-family: 'Playfair Display'; width: 32%">
                    <div class=center style="overflow: hidden; height: 225px; width: 100%;" >
                        <a href="/article?articleid={{articles[i + 2][4]}}">
                            <img class="center" src="{{ articles[i + 2][3] }}" onerror="this.src='static/white_logo_text.png'" alt="{{ articles[i +2][3] }}" width="100%" style="margin-left: auto; margin-right: auto;">
                        </a>
                    </div>
                    <a href="/article?articleid={{articles[i + 2][4]}}"><h2 style=" font-family: 'Playfair Display';font-size: 13pt">{{ articles[i + 2][0].title() }}</h2></a>
                    <p style=" font-family: 'Open Sans', sans-serif; font-size: 9pt; margin-top: -7px;">By: {{ articles[i + 2][1] }}</p>
                    <p style=" font-family: 'Open Sans', sans-serif;font-size: 9pt; margin-top: -7px;">{{ articles[i + 2][2][:210].strip(".").strip(" ") }}...</p>
                    <p style=" font-family: 'Open Sans', sans-serif;font-size: 9pt; margin-top: -7px; color: #525252">{{ articles[i + 2][5] }}</p>
                </div>

            {% endfor %}
            
        </div>
    </div>

    <a href="/article?articleid={{articles[1][4]}}" >
        <div class="container-fluid"  style="display: block; overflow: hidden; height: 600px; background-image: url({{ articles[1][3] }}); background-size: cover; background-repeat: no-repeat; margin-top: 38px;">
            <div class="container article1" style="position: absolute; float: left; top: 1550px; width: fit-content; max-width: 40%; font-family: 'Playfair Display';">
                <h1 style="font-family: 'Playfair Display';">{{ articles[1][0].title() }}</h1>
                <p style="font-family: 'Open Sans', sans-serif; font-size: 13pt; margin-top: -7px;">By: {{ articles[1][1] }}</p>
                <p style="font-family: 'Open Sans', sans-serif;">{{ articles[1][2][:210].strip(".").strip(" ") }}...</p>
                <p style="font-family: 'Open Sans', sans-serif; font-size: 10pt; margin-top: -7px; color: #999999;">{{ articles[1][5] }}</p>
            </div> 
        </div>
    </a>

    <div class="container-fluid" style="font-family: 'Playfair Display'; background-color: #000000; height: fit-content;color: #ffffff">
        <br style="font-size: 20pt">
        <label><h1 style="font-family: 'Prata';">Popular</h1></label>
        <div class="row" style=" font-family: 'Playfair Display'; margin-bottom: 45pt;">
            {% for i in range((popular | length)) %}
                <div class=col style=" height: fit-content; font-family: 'Playfair Display'; width: 32%">
                    <div class=center style="overflow: hidden; height: 225px; width: 100%;" >
                        <a href="/article?articleid={{popular[i][4]}}">
                            <img class="center" src="{{ popular[i][3] }}" onerror="this.src='static/white_logo_text.png'" alt="{{ popular[i][3] }}" width="100%" style="margin-left: auto; margin-right: auto;">
                        </a>
                    </div>
                    <a href="/article?articleid={{popular[i][4]}}"><h2 style=" font-family: 'Playfair Display';font-size: 13pt">{{ popular[i][0].title() }}</h2></a>
                    <p style=" font-family: 'Open Sans', sans-serif; font-size: 9pt; margin-top: -7px;">By: <a href="/search?q={{ articles[i][1] }}">{{ popular[i][1] }}</a></p>
                    <p style=" font-family: 'Open Sans', sans-serif;font-size: 9pt; margin-top: -7px;">{{ popular[i][2][:210].strip('.').strip(" ") }}...</p>
                    <p style=" font-family: 'Open Sans', sans-serif;font-size: 9pt; margin-top: -7px; color: #525252">{{ popular[i][5] }}</p>
                </div>

            {% endfor %}
        </div>
    </div>
    <div>

{% endblock %}